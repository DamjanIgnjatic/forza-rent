document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".grid .car-card"),n=document.querySelector(".no-results"),a=document.getElementById("category"),l=document.getElementById("yearFilter"),r=document.getElementById("gearboxFilter"),s=document.getElementById("priceRange"),o=document.querySelector(".price-label");var e=document.querySelector(".hamburger"),c=document.querySelectorAll(".theme-menu-content"),u=document.querySelectorAll(".navigation--items .social-media-icons");let d=document.body,m=(e.addEventListener("click",()=>{d.classList.toggle("menu-open")}),c.forEach(e=>{e.addEventListener("click",()=>{d.classList.remove("menu-open")})}),u.forEach(e=>{e.addEventListener("click",()=>{d.classList.remove("menu-open")})}),document.getElementById("loadMoreCars")),y=12,v=!1;function g(e){e=(e||"").toLowerCase().trim();return["auto","automatic","automat","automatika"].includes(e)?"automatic":["manual","man","rucni","ručni"].includes(e)?"manual":e}function i(e=!1){e&&(y=12);let o=(a?.value||"").toLowerCase().trim(),c=(l?.value||"").trim(),u=g(r?.value||""),d=s&&""!==s.value?parseFloat(s.value):null,i=[];t.forEach(function(e){var t=(e.dataset.category||"").toLowerCase().trim(),n=(e.dataset.year||"").trim(),a=g(e.dataset.gearbox||"");let l=e.dataset.price||null,r=(null!==l&&(l=parseFloat(String(l).replace(/[^\d.]/g,""))),!0);o&&t!==o&&(r=!1),c&&n!==c&&(r=!1),u&&a!==u&&(r=!1),(r=v&&null!==d&&l>d?!1:r)&&i.push(e)}),t.forEach(e=>e.style.display="none"),i.slice(0,y).forEach(e=>{e.style.display=""}),n&&(0===i.length?n.style.display="block":n.style.display="none"),m&&(m.style.display=i.length>y?"":"none")}function E(){var e,t,n;s&&o&&(n=parseFloat(s.value),e=parseFloat(s.min),t=parseFloat(s.max),o.textContent=`Price: €${n}/day`,n=(n-e)/(t-e)*100,s.style.setProperty("--val",n),i(!0))}a&&a.addEventListener("change",()=>i(!0)),l&&l.addEventListener("change",()=>i(!0)),r&&r.addEventListener("change",()=>i(!0)),s&&s.addEventListener("input",()=>{v=!0,E()}),m&&m.addEventListener("click",function(){y+=12,i(!1)}),setTimeout(E,30),E();var p,L,e=document.getElementById("gform_2");e&&(p=document.getElementById("input_11"),L=document.getElementById("input_12"),p)&&L&&e.addEventListener("submit",function(e){var t=p.value.trim(),n=L.value.trim();t&&n&&(t=new Date(t),new Date(n)<t)&&(e.preventDefault(),alert("End date cannot be earlier than start date."),L.value="",L.focus())})});