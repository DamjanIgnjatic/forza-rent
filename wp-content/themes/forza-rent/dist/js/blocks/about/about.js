document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".grid .car-card"),a=document.querySelector(".no-results"),n=document.getElementById("category"),l=document.getElementById("yearFilter"),r=document.getElementById("gearboxFilter"),s=document.getElementById("priceRange"),o=document.querySelector(".price-label"),m=document.getElementById("loadMoreCars"),y=12,g=!1;function p(e){e=(e||"").toLowerCase().trim();return["auto","automatic","automat","automatika"].includes(e)?"automatic":["manual","man","rucni","ručni"].includes(e)?"manual":e}function d(e=!1){e&&(y=12);let o=(n?.value||"").toLowerCase().trim(),d=(l?.value||"").trim(),u=p(r?.value||""),c=s&&""!==s.value?parseFloat(s.value):null,i=[];t.forEach(function(e){var t=(e.dataset.category||"").toLowerCase().trim(),a=(e.dataset.year||"").trim(),n=p(e.dataset.gearbox||"");let l=e.dataset.price||null,r=(null!==l&&(l=parseFloat(String(l).replace(/[^\d.]/g,""))),!0);o&&t!==o&&(r=!1),d&&a!==d&&(r=!1),u&&n!==u&&(r=!1),(r=g&&null!==c&&l>c?!1:r)&&i.push(e)}),t.forEach(e=>e.style.display="none"),i.slice(0,y).forEach(e=>{e.style.display=""}),a&&(0===i.length?a.style.display="block":a.style.display="none"),m&&(m.style.display=i.length>y?"":"none")}function e(){var e,t,a;s&&o&&(a=parseFloat(s.value),e=parseFloat(s.min),t=parseFloat(s.max),o.textContent=`Price: €${a}/day`,a=(a-e)/(t-e)*100,s.style.setProperty("--val",a),d(!0))}t.length&&(n&&n.addEventListener("change",()=>d(!0)),l&&l.addEventListener("change",()=>d(!0)),r&&r.addEventListener("change",()=>d(!0)),s&&s.addEventListener("input",()=>{g=!0,e()}),m&&m.addEventListener("click",function(){y+=12,d(!1)}),setTimeout(e,30))});