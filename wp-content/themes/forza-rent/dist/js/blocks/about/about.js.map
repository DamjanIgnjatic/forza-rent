{
  "version": 3,
  "sources": ["../blocks/about/about.js"],
  "sourcesContent": ["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  // === CAR FILTERS ===\r\n  const cars = document.querySelectorAll(\".grid .car-card\");\r\n  const noResults = document.querySelector(\".no-results\");\r\n  const categorySelect = document.getElementById(\"category\");\r\n  const yearSelect = document.getElementById(\"yearFilter\");\r\n  const gearboxSelect = document.getElementById(\"gearboxFilter\");\r\n  const priceRange = document.getElementById(\"priceRange\");\r\n  const priceLabel = document.querySelector(\".price-label\");\r\n\r\n  const hamburger = document.querySelector(\".hamburger\");\r\n  const navItems = document.querySelectorAll(\".theme-menu-content\");\r\n  const socialIcons = document.querySelectorAll(\r\n    \".navigation--items .social-media-icons\"\r\n  );\r\n  const body = document.body;\r\n\r\n  hamburger.addEventListener(\"click\", () => {\r\n    body.classList.toggle(\"menu-open\");\r\n  });\r\n\r\n  navItems.forEach((item) => {\r\n    item.addEventListener(\"click\", () => {\r\n      body.classList.remove(\"menu-open\");\r\n    });\r\n  });\r\n\r\n  socialIcons.forEach((icon) => {\r\n    icon.addEventListener(\"click\", () => {\r\n      body.classList.remove(\"menu-open\");\r\n    });\r\n  });\r\n\r\n  const loadMoreBtn = document.getElementById(\"loadMoreCars\");\r\n  let visibleCount = 12;\r\n  let priceFilterActive = false;\r\n\r\n  function normalizeGearbox(value) {\r\n    const v = (value || \"\").toLowerCase().trim();\r\n\r\n    if ([\"auto\", \"automatic\", \"automat\", \"automatika\"].includes(v)) {\r\n      return \"automatic\";\r\n    }\r\n    if ([\"manual\", \"man\", \"rucni\", \"ru\u010Dni\"].includes(v)) {\r\n      return \"manual\";\r\n    }\r\n    return v;\r\n  }\r\n\r\n  function applyFilters(resetVisible = false) {\r\n    if (resetVisible) visibleCount = 12;\r\n\r\n    const selectedCategory = (categorySelect?.value || \"\").toLowerCase().trim();\r\n    const selectedYear = (yearSelect?.value || \"\").trim();\r\n    const selectedGearbox = normalizeGearbox(gearboxSelect?.value || \"\");\r\n\r\n    const maxPrice =\r\n      priceRange && priceRange.value !== \"\"\r\n        ? parseFloat(priceRange.value)\r\n        : null;\r\n\r\n    const matchingCars = [];\r\n\r\n    cars.forEach(function (car) {\r\n      const carCategory = (car.dataset.category || \"\").toLowerCase().trim();\r\n      const carYear = (car.dataset.year || \"\").trim();\r\n      const carGearbox = normalizeGearbox(car.dataset.gearbox || \"\");\r\n\r\n      let carPrice = car.dataset.price || null;\r\n      if (carPrice !== null) {\r\n        carPrice = parseFloat(String(carPrice).replace(/[^\\d.]/g, \"\"));\r\n      }\r\n\r\n      let visible = true;\r\n\r\n      // CATEGORY filter\r\n      if (selectedCategory && carCategory !== selectedCategory) {\r\n        visible = false;\r\n      }\r\n\r\n      // YEAR filter\r\n      if (selectedYear && carYear !== selectedYear) {\r\n        visible = false;\r\n      }\r\n\r\n      // GEARBOX filter\r\n      if (selectedGearbox && carGearbox !== selectedGearbox) {\r\n        visible = false;\r\n      }\r\n\r\n      // PRICE filter\r\n      if (priceFilterActive && maxPrice !== null && carPrice > maxPrice) {\r\n        visible = false;\r\n      }\r\n\r\n      if (visible) matchingCars.push(car);\r\n    });\r\n\r\n    // Hide all, show only filtered\r\n    cars.forEach((car) => (car.style.display = \"none\"));\r\n\r\n    matchingCars.slice(0, visibleCount).forEach((car) => {\r\n      car.style.display = \"\";\r\n    });\r\n\r\n    if (noResults) {\r\n      if (matchingCars.length === 0) {\r\n        noResults.style.display = \"block\";\r\n      } else {\r\n        noResults.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    if (loadMoreBtn) {\r\n      loadMoreBtn.style.display =\r\n        matchingCars.length > visibleCount ? \"\" : \"none\";\r\n    }\r\n  }\r\n\r\n  function updatePriceUI() {\r\n    if (!priceRange || !priceLabel) return;\r\n\r\n    const value = parseFloat(priceRange.value);\r\n    const min = parseFloat(priceRange.min);\r\n    const max = parseFloat(priceRange.max);\r\n\r\n    priceLabel.textContent = `Price: \u20AC${value}/day`;\r\n\r\n    let percent = ((value - min) / (max - min)) * 100;\r\n    priceRange.style.setProperty(\"--val\", percent);\r\n\r\n    applyFilters(true);\r\n  }\r\n\r\n  // EVENT LISTENERS\r\n  if (categorySelect) {\r\n    categorySelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (yearSelect) {\r\n    yearSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (gearboxSelect) {\r\n    gearboxSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (priceRange) {\r\n    priceRange.addEventListener(\"input\", () => {\r\n      priceFilterActive = true;\r\n      updatePriceUI();\r\n    });\r\n  }\r\n\r\n  if (loadMoreBtn) {\r\n    loadMoreBtn.addEventListener(\"click\", function () {\r\n      visibleCount += 12;\r\n      applyFilters(false);\r\n    });\r\n  }\r\n\r\n  setTimeout(updatePriceUI, 30);\r\n  updatePriceUI();\r\n\r\n  //DATE RANGE VALIDATION\r\n  var form = document.getElementById(\"gform_2\");\r\n  if (!form) return;\r\n\r\n  var dateFrom = document.getElementById(\"input_11\");\r\n  var dateTo = document.getElementById(\"input_12\");\r\n\r\n  if (!dateFrom || !dateTo) return;\r\n\r\n  form.addEventListener(\"submit\", function (e) {\r\n    var fromVal = dateFrom.value.trim();\r\n    var toVal = dateTo.value.trim();\r\n\r\n    if (!fromVal || !toVal) {\r\n      return;\r\n    }\r\n\r\n    var fromDate = new Date(fromVal);\r\n    var toDate = new Date(toVal);\r\n\r\n    if (toDate < fromDate) {\r\n      e.preventDefault();\r\n      alert(\"End date cannot be earlier than start date.\");\r\n      dateTo.value = \"\";\r\n      dateTo.focus();\r\n    }\r\n  });\r\n\r\n  // hamburger\r\n});\r\n"],
  "mappings": "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",
  "names": ["cars", "noResults", "categorySelect", "yearSelect", "gearboxSelect", "priceRange", "priceLabel", "hamburger", "navItems", "socialIcons", "body", "item", "icon", "loadMoreBtn", "visibleCount", "priceFilterActive", "normalizeGearbox", "value", "v", "applyFilters", "resetVisible", "selectedCategory", "selectedYear", "selectedGearbox", "maxPrice", "matchingCars", "car", "carCategory", "carYear", "carGearbox", "carPrice", "visible", "updatePriceUI", "min", "max", "percent", "form", "dateFrom", "dateTo", "fromVal", "toVal", "fromDate", "toDate"]
}
