{
  "version": 3,
  "sources": ["../blocks/about/about.js"],
  "sourcesContent": ["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  // === CAR FILTERS ===\r\n  const cars = document.querySelectorAll(\".grid .car-card\");\r\n  const noResults = document.querySelector(\".no-results\");\r\n  const categorySelect = document.getElementById(\"category\");\r\n  const yearSelect = document.getElementById(\"yearFilter\");\r\n  const gearboxSelect = document.getElementById(\"gearboxFilter\");\r\n  const driveTypeSelect = document.getElementById(\"driveFilter\");\r\n  const priceRange = document.getElementById(\"priceRange\");\r\n  const priceLabel = document.querySelector(\".price-label\");\r\n\r\n  console.log(driveTypeSelect);\r\n  console.log(gearboxSelect);\r\n\r\n  const hamburger = document.querySelector(\".hamburger\");\r\n  const navItems = document.querySelectorAll(\".theme-menu-content\");\r\n  const socialIcons = document.querySelectorAll(\r\n    \".navigation--items .social-media-icons\"\r\n  );\r\n  const body = document.body;\r\n\r\n  hamburger.addEventListener(\"click\", () => {\r\n    body.classList.toggle(\"menu-open\");\r\n  });\r\n\r\n  navItems.forEach((item) => {\r\n    item.addEventListener(\"click\", () => {\r\n      body.classList.remove(\"menu-open\");\r\n    });\r\n  });\r\n\r\n  socialIcons.forEach((icon) => {\r\n    icon.addEventListener(\"click\", () => {\r\n      body.classList.remove(\"menu-open\");\r\n    });\r\n  });\r\n\r\n  const loadMoreBtn = document.getElementById(\"loadMoreCars\");\r\n  let visibleCount = 12;\r\n  let priceFilterActive = false;\r\n\r\n  function applyFilters(resetVisible = false) {\r\n    if (resetVisible) visibleCount = 12;\r\n\r\n    const selectedCategory = (categorySelect?.value || \"\").toLowerCase().trim();\r\n    const selectedYear = (yearSelect?.value || \"\").trim();\r\n    const selectedGearbox = (gearboxSelect?.value || \"\").trim();\r\n    const selectedDriveType = (driveTypeSelect?.value || \"\").trim();\r\n    console.log(selectedGearbox);\r\n    console.log(selectedDriveType);\r\n\r\n    const maxPrice =\r\n      priceRange && priceRange.value !== \"\"\r\n        ? parseFloat(priceRange.value)\r\n        : null;\r\n\r\n    const matchingCars = [];\r\n\r\n    cars.forEach(function (car) {\r\n      const carCategory = (car.dataset.category || \"\").toLowerCase().trim();\r\n      const carYear = (car.dataset.year || \"\").trim();\r\n      const carGearbox = (car.dataset.gearbox || \"\").trim();\r\n      const driveType = (car.dataset.drive || \"\").trim();\r\n\r\n      console.log(driveType);\r\n\r\n      let carPrice = car.dataset.price || null;\r\n      if (carPrice !== null) {\r\n        carPrice = parseFloat(String(carPrice).replace(/[^\\d.]/g, \"\"));\r\n      }\r\n\r\n      let visible = true;\r\n\r\n      // CATEGORY filter\r\n      if (selectedCategory && carCategory !== selectedCategory) {\r\n        visible = false;\r\n      }\r\n\r\n      // YEAR filter\r\n      if (selectedYear && carYear !== selectedYear) {\r\n        visible = false;\r\n      }\r\n\r\n      // GEARBOX filter\r\n      if (selectedGearbox && carGearbox !== selectedGearbox) {\r\n        visible = false;\r\n      }\r\n\r\n      // DRIVETYPE filter\r\n      if (selectedDriveType && driveType !== selectedDriveType) {\r\n        visible = false;\r\n      }\r\n\r\n      // PRICE filter\r\n      if (priceFilterActive && maxPrice !== null && carPrice > maxPrice) {\r\n        visible = false;\r\n      }\r\n\r\n      if (visible) matchingCars.push(car);\r\n    });\r\n\r\n    // Hide all, show only filtered\r\n    cars.forEach((car) => (car.style.display = \"none\"));\r\n\r\n    matchingCars.slice(0, visibleCount).forEach((car) => {\r\n      car.style.display = \"\";\r\n    });\r\n\r\n    if (noResults) {\r\n      if (matchingCars.length === 0) {\r\n        noResults.style.display = \"block\";\r\n      } else {\r\n        noResults.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    if (loadMoreBtn) {\r\n      loadMoreBtn.style.display =\r\n        matchingCars.length > visibleCount ? \"\" : \"none\";\r\n    }\r\n  }\r\n\r\n  function updatePriceUI() {\r\n    if (!priceRange || !priceLabel) return;\r\n\r\n    const value = parseFloat(priceRange.value);\r\n    const min = parseFloat(priceRange.min);\r\n    const max = parseFloat(priceRange.max);\r\n\r\n    priceLabel.textContent = `Cena: \u20AC${value}/dan`;\r\n\r\n    let percent = ((value - min) / (max - min)) * 100;\r\n    priceRange.style.setProperty(\"--val\", percent);\r\n\r\n    applyFilters(true);\r\n  }\r\n\r\n  // EVENT LISTENERS\r\n  if (categorySelect) {\r\n    categorySelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (yearSelect) {\r\n    yearSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (gearboxSelect) {\r\n    gearboxSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (gearboxSelect) {\r\n    gearboxSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (driveTypeSelect) {\r\n    driveTypeSelect.addEventListener(\"change\", () => applyFilters(true));\r\n  }\r\n\r\n  if (priceRange) {\r\n    priceRange.addEventListener(\"input\", () => {\r\n      priceFilterActive = true;\r\n      updatePriceUI();\r\n    });\r\n  }\r\n\r\n  if (loadMoreBtn) {\r\n    loadMoreBtn.addEventListener(\"click\", function () {\r\n      visibleCount += 12;\r\n      applyFilters(false);\r\n    });\r\n  }\r\n\r\n  setTimeout(updatePriceUI, 30);\r\n  updatePriceUI();\r\n\r\n  //DATE RANGE VALIDATION\r\n  var form = document.getElementById(\"gform_2\");\r\n  if (!form) return;\r\n\r\n  var dateFrom = document.getElementById(\"input_11\");\r\n  var dateTo = document.getElementById(\"input_12\");\r\n\r\n  if (!dateFrom || !dateTo) return;\r\n\r\n  form.addEventListener(\"submit\", function (e) {\r\n    var fromVal = dateFrom.value.trim();\r\n    var toVal = dateTo.value.trim();\r\n\r\n    if (!fromVal || !toVal) {\r\n      return;\r\n    }\r\n\r\n    var fromDate = new Date(fromVal);\r\n    var toDate = new Date(toVal);\r\n\r\n    if (toDate < fromDate) {\r\n      e.preventDefault();\r\n      alert(\"End date cannot be earlier than start date.\");\r\n      dateTo.value = \"\";\r\n      dateTo.focus();\r\n    }\r\n  });\r\n\r\n  // hamburger\r\n});\r\n"],
  "mappings": "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",
  "names": ["cars", "noResults", "categorySelect", "yearSelect", "gearboxSelect", "driveTypeSelect", "priceRange", "priceLabel", "hamburger", "navItems", "socialIcons", "body", "item", "icon", "loadMoreBtn", "visibleCount", "priceFilterActive", "applyFilters", "resetVisible", "selectedCategory", "selectedYear", "selectedGearbox", "selectedDriveType", "maxPrice", "matchingCars", "car", "carCategory", "carYear", "carGearbox", "driveType", "carPrice", "visible", "updatePriceUI", "value", "min", "max", "percent", "form", "dateFrom", "dateTo", "e", "fromVal", "toVal", "fromDate", "toDate"]
}
